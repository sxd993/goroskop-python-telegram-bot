# Telegram гороскоп-бот

Python 3.11, aiogram 3, платежи через YooKassa. Контент берется динамически из папки `media`: там должны быть подпапки формата `YYYY-MM`, а внутри — файлы (или подпапки) с именем знака `sign.ext` (`aries.jpg`, `capricorn/aries.png` и т.д.). Цена по умолчанию 390 ₽ (39000 копеек). База SQLite `data/bot.sqlite3`.

## Запуск

Создай виртуальное окружение, установи зависимости и подготовь медиа с нужной структурой. Переменные окружения: `BOT_TOKEN`, `PROVIDER_TOKEN`, `PRICE_KOPEKS` (по умолчанию 39000), `CURRENCY` (по умолчанию RUB), `MEDIA_DIR` (по умолчанию media), `DB_PATH` (по умолчанию data/bot.sqlite3). Далее запусти:

```bash
python main.py
```

## Что делает бот

Сканирует папку media, предлагает доступные годы, затем месяцы и знаки. Проверяет наличие файла перед выставлением счета. Создает заказ в SQLite, отправляет invoice через Telegram Payments (YooKassa), проверяет pre_checkout, сохраняет оплату и отправляет файл как документ.
